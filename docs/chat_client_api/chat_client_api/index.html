<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="
  Chat Client API Documentation
  #

The ChatClient offers a fluent API for communicating with an AI Model. It supports both a synchronous and streaming programming model. For more details, see 
  Creating a ChatClient section.

  Quick Links
  #



  Creating a ChatClient

  ChatClient Fluent API

  ChatClient Responses

  Streaming Responses

  Using Defaults

  Advisors

  Chat Memory


  Creating a ChatClient
  #

The ChatClient is created using a ChatClient.Builder object. You can obtain an autoconfigured ChatClient.Builder instance for any 
  ChatModel Spring Boot autoconfiguration or create one programmatically. For more information about the fluent API, see 
  ChatClient Fluent API section.">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="https://studyllm.github.io/docs/chat_client_api/chat_client_api/">
  <meta property="og:site_name" content="My New Hugo Site">
  <meta property="og:title" content="My New Hugo Site">
  <meta property="og:description" content="Chat Client API Documentation # The ChatClient offers a fluent API for communicating with an AI Model. It supports both a synchronous and streaming programming model. For more details, see Creating a ChatClient section.
Quick Links # Creating a ChatClient ChatClient Fluent API ChatClient Responses Streaming Responses Using Defaults Advisors Chat Memory Creating a ChatClient # The ChatClient is created using a ChatClient.Builder object. You can obtain an autoconfigured ChatClient.Builder instance for any ChatModel Spring Boot autoconfiguration or create one programmatically. For more information about the fluent API, see ChatClient Fluent API section.">
  <meta property="og:locale" content="zh_cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="docs">
<title>Chat Client API | My New Hugo Site</title>
<link rel="icon" href="/favicon.png" >
<link rel="manifest" href="/manifest.json">
<link rel="canonical" href="https://studyllm.github.io/docs/chat_client_api/chat_client_api/">
<link rel="stylesheet" href="/book.min.e9f68c3fff3d8236a489d16a9caf6de5e4d1a29c20eb4b5524e42cd30be4d319.css" integrity="sha256-6faMP/89gjakidFqnK9t5eTRopwg60tVJOQs0wvk0xk=" crossorigin="anonymous">
  <script defer src="/fuse.min.js"></script>
  <script defer src="/en.search.min.75ef0fd2ae8b97ab6b1c5da06d767248538991a9f9fce9e03acdecb039ad3234.js" integrity="sha256-de8P0q6Ll6trHF2gbXZySFOJkan5/OngOs3ssDmtMjQ=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>My New Hugo Site</span>
  </a>
</h2>


<div class="book-search hidden">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>
<script>document.querySelector(".book-search").classList.remove("hidden")</script>















  
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/chat_client_api/chat_client_api/" class="active">Chat Client API</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/getting-started/getting_started/" class="">Getting Started</a>
  

        </li>
      
    
  </ul>










  
<ul>
  
  <li>
    <a href="https://github.com"  target="_blank" rel="noopener">
        Github
      </a>
  </li>
  
</ul>






</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <h3>Chat Client API</h3>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#chat-client-api-documentation">Chat Client API Documentation</a>
      <ul>
        <li><a href="#quick-links">Quick Links</a></li>
        <li><a href="#creating-chatclient">Creating a ChatClient</a>
          <ul>
            <li><a href="#autoconfigured-builder">Using an autoconfigured ChatClient.Builder</a></li>
            <li><a href="#programmatic-creation">Create a ChatClient programmatically</a></li>
          </ul>
        </li>
        <li><a href="#fluent-api">ChatClient Fluent API</a>
          <ul>
            <li><a href="#prompt-methods">Prompt Methods</a></li>
          </ul>
        </li>
        <li><a href="#responses">ChatClient Responses</a>
          <ul>
            <li><a href="#chat-response">Returning a ChatResponse</a></li>
            <li><a href="#entity-response">Returning an Entity</a></li>
          </ul>
        </li>
        <li><a href="#streaming">Streaming Responses</a></li>
        <li><a href="#defaults">Using Defaults</a>
          <ul>
            <li><a href="#default-system">Default System Text</a></li>
          </ul>
        </li>
        <li><a href="#advisors">Advisors</a>
          <ul>
            <li><a href="#advisor-config">Advisor Configuration</a></li>
          </ul>
        </li>
        <li><a href="#chat-memory">Chat Memory</a>
          <ul>
            <li><a href="#memory-implementations">Implementations</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown book-article"><h1 id="chat-client-api-documentation">
  Chat Client API Documentation
  <a class="anchor" href="#chat-client-api-documentation">#</a>
</h1>
<p>The ChatClient offers a fluent API for communicating with an AI Model. It supports both a synchronous and streaming programming model. For more details, see 
  <a href="/#creating-chatclient">Creating a ChatClient</a> section.</p>
<h2 id="quick-links">
  Quick Links
  <a class="anchor" href="#quick-links">#</a>
</h2>
<ul>
<li>
  <a href="/#creating-chatclient">Creating a ChatClient</a></li>
<li>
  <a href="/#fluent-api">ChatClient Fluent API</a></li>
<li>
  <a href="/#responses">ChatClient Responses</a></li>
<li>
  <a href="/#streaming">Streaming Responses</a></li>
<li>
  <a href="/#defaults">Using Defaults</a></li>
<li>
  <a href="/#advisors">Advisors</a></li>
<li>
  <a href="/#chat-memory">Chat Memory</a></li>
</ul>
<h2 id="creating-chatclient">
  Creating a ChatClient
  <a class="anchor" href="#creating-chatclient">#</a>
</h2>
<p>The ChatClient is created using a <code>ChatClient.Builder</code> object. You can obtain an autoconfigured <code>ChatClient.Builder</code> instance for any 
  <a href="https://docs.spring.io/spring-ai/api/org/springframework/ai/chat/model/ChatModel.html">ChatModel</a> Spring Boot autoconfiguration or create one programmatically. For more information about the fluent API, see 
  <a href="/#fluent-api">ChatClient Fluent API</a> section.</p>
<p>
  <img src="https://cdn.pixabay.com/photo/2025/03/22/15/08/cat-9487039_1280.jpg" alt="Spring Boot Logo" title="Spring Boot Version Support"/></p>
<h3 id="autoconfigured-builder">
  Using an autoconfigured ChatClient.Builder
  <a class="anchor" href="#autoconfigured-builder">#</a>
</h3>
<p>Spring AI provides Spring Boot autoconfiguration, creating a prototype <code>ChatClient.Builder</code> bean for you to inject into your class. For more details about responses, see 
  <a href="/#responses">ChatClient Responses</a> section.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@RestController</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyController</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> ChatClient chatClient;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">MyController</span>(ChatClient.<span style="color:#a6e22e">Builder</span> chatClientBuilder) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">chatClient</span> <span style="color:#f92672">=</span> chatClientBuilder.<span style="color:#a6e22e">build</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@GetMapping</span>(<span style="color:#e6db74">&#34;/ai&#34;</span>)
</span></span><span style="display:flex;"><span>    String <span style="color:#a6e22e">generation</span>(String userInput) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">chatClient</span>.<span style="color:#a6e22e">prompt</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">user</span>(userInput)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">call</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">content</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="programmatic-creation">
  Create a ChatClient programmatically
  <a class="anchor" href="#programmatic-creation">#</a>
</h3>
<p>You can disable the <code>ChatClient.Builder</code> autoconfiguration by setting the property <code>spring.ai.chat.client.enabled=false</code>. For more information about streaming responses, see 
  <a href="/#streaming">Streaming Responses</a> section.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>ChatModel myChatModel <span style="color:#f92672">=</span> ... <span style="color:#75715e">// usually autowired</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ChatClient.<span style="color:#a6e22e">Builder</span> builder <span style="color:#f92672">=</span> ChatClient.<span style="color:#a6e22e">builder</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">myChatModel</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// or create a ChatClient with the default builder settings:</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ChatClient chatClient <span style="color:#f92672">=</span> ChatClient.<span style="color:#a6e22e">create</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">myChatModel</span>);
</span></span></code></pre></div><h2 id="fluent-api">
  ChatClient Fluent API
  <a class="anchor" href="#fluent-api">#</a>
</h2>
<p>The ChatClient fluent API allows you to create a prompt in three distinct ways using an overloaded prompt method to initiate the fluent API. For more information about responses, see 
  <a href="/#responses">ChatClient Responses</a> section.</p>
<h3 id="prompt-methods">
  Prompt Methods
  <a class="anchor" href="#prompt-methods">#</a>
</h3>
<p>Three ways to create a prompt:</p>
<ul>
<li><code>prompt()</code></li>
<li><code>prompt(Prompt prompt)</code></li>
<li><code>prompt(String content)</code></li>
</ul>
<h2 id="responses">
  ChatClient Responses
  <a class="anchor" href="#responses">#</a>
</h2>
<p>The ChatClient API offers several ways to format the response from the AI Model using the fluent API. For streaming responses, see 
  <a href="/#streaming">Streaming Responses</a> section.</p>
<h3 id="chat-response">
  Returning a ChatResponse
  <a class="anchor" href="#chat-response">#</a>
</h3>
<p>The response from the AI model is a rich structure defined by the type ChatResponse.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>ChatResponse chatResponse <span style="color:#f92672">=</span> chatClient.<span style="color:#a6e22e">prompt</span>()
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">user</span>(<span style="color:#e6db74">&#34;Tell me a joke&#34;</span>)
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">call</span>()
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">chatResponse</span>();
</span></span></code></pre></div><h3 id="entity-response">
  Returning an Entity
  <a class="anchor" href="#entity-response">#</a>
</h3>
<p>You can map the AI model&rsquo;s output to a Java record or class.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">record</span> <span style="color:#a6e22e">ActorFilms</span>(String actor, List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> movies) {}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ActorFilms actorFilms <span style="color:#f92672">=</span> chatClient.<span style="color:#a6e22e">prompt</span>()
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">user</span>(<span style="color:#e6db74">&#34;Generate the filmography for a random actor.&#34;</span>)
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">call</span>()
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">entity</span>(ActorFilms.<span style="color:#a6e22e">class</span>);
</span></span></code></pre></div><h2 id="streaming">
  Streaming Responses
  <a class="anchor" href="#streaming">#</a>
</h2>
<p>The stream() method lets you get an asynchronous response. For more information about chat memory, see 
  <a href="/#chat-memory">Chat Memory</a> section.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Flux<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> output <span style="color:#f92672">=</span> chatClient.<span style="color:#a6e22e">prompt</span>()
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">user</span>(<span style="color:#e6db74">&#34;Tell me a joke&#34;</span>)
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">content</span>();
</span></span></code></pre></div><h2 id="defaults">
  Using Defaults
  <a class="anchor" href="#defaults">#</a>
</h2>
<p>Creating a ChatClient with default settings simplifies runtime code. For more information about advisors, see 
  <a href="/#advisors">Advisors</a> section.</p>
<h3 id="default-system">
  Default System Text
  <a class="anchor" href="#default-system">#</a>
</h3>
<p>Configure default system text in an @Configuration class.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@Configuration</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Config</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Bean</span>
</span></span><span style="display:flex;"><span>    ChatClient <span style="color:#a6e22e">chatClient</span>(ChatClient.<span style="color:#a6e22e">Builder</span> builder) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> builder.<span style="color:#a6e22e">defaultSystem</span>(<span style="color:#e6db74">&#34;You are a friendly chat bot that answers question in the voice of a Pirate&#34;</span>)
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">build</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="advisors">
  Advisors
  <a class="anchor" href="#advisors">#</a>
</h2>
<p>The Advisors API provides a flexible and powerful way to intercept, modify, and enhance AI-driven interactions. For more information about chat memory, see 
  <a href="/#chat-memory">Chat Memory</a> section.</p>
<h3 id="advisor-config">
  Advisor Configuration
  <a class="anchor" href="#advisor-config">#</a>
</h3>
<p>The ChatClient fluent API provides an AdvisorSpec interface for configuring advisors.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>ChatClient.<span style="color:#a6e22e">builder</span>(chatModel)
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">build</span>()
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">prompt</span>()
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">advisors</span>(
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">new</span> MessageChatMemoryAdvisor(chatMemory),
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">new</span> QuestionAnswerAdvisor(vectorStore)
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">user</span>(userText)
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">call</span>()
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">content</span>();
</span></span></code></pre></div><h2 id="chat-memory">
  Chat Memory
  <a class="anchor" href="#chat-memory">#</a>
</h2>
<p>The interface ChatMemory represents a storage for chat conversation history. For more information about creating a ChatClient, see 
  <a href="/#creating-chatclient">Creating a ChatClient</a> section.</p>
<h3 id="memory-implementations">
  Implementations
  <a class="anchor" href="#memory-implementations">#</a>
</h3>
<p>Different implementations of ChatMemory:</p>
<ul>
<li>
  <a href="https://docs.spring.io/spring-ai/reference/getting-started.html">InMemoryChatMemory</a></li>
<li>
  <a href="https://github.com/spring-projects/spring-ai-samples">CassandraChatMemory</a></li>
<li>
  <a href="https://docs.spring.io/spring-ai/api/">Neo4jChatMemory</a></li>
<li>
  <a href="https://docs.spring.io/spring-ai/api/">JdbcChatMemory</a></li>
</ul>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#chat-client-api-documentation">Chat Client API Documentation</a>
      <ul>
        <li><a href="#quick-links">Quick Links</a></li>
        <li><a href="#creating-chatclient">Creating a ChatClient</a>
          <ul>
            <li><a href="#autoconfigured-builder">Using an autoconfigured ChatClient.Builder</a></li>
            <li><a href="#programmatic-creation">Create a ChatClient programmatically</a></li>
          </ul>
        </li>
        <li><a href="#fluent-api">ChatClient Fluent API</a>
          <ul>
            <li><a href="#prompt-methods">Prompt Methods</a></li>
          </ul>
        </li>
        <li><a href="#responses">ChatClient Responses</a>
          <ul>
            <li><a href="#chat-response">Returning a ChatResponse</a></li>
            <li><a href="#entity-response">Returning an Entity</a></li>
          </ul>
        </li>
        <li><a href="#streaming">Streaming Responses</a></li>
        <li><a href="#defaults">Using Defaults</a>
          <ul>
            <li><a href="#default-system">Default System Text</a></li>
          </ul>
        </li>
        <li><a href="#advisors">Advisors</a>
          <ul>
            <li><a href="#advisor-config">Advisor Configuration</a></li>
          </ul>
        </li>
        <li><a href="#chat-memory">Chat Memory</a>
          <ul>
            <li><a href="#memory-implementations">Implementations</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












